<!DOCTYPE html>
<html>
<head>
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<title>FriendFinder-Survey</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  	<script src="https://code.jquery.com/jquery.js"></script>
 	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>	
 	

 	
</head>
<body>
	<div class="container">
		<h2><strong>Survey Questions</strong></h2>
		<hr>

		<h3><strong>About you</strong></h3>
		<div class="form-group required ='true' ">
		  <h4><label for="name" class="label-control">Name (Required)</label></h4>
		  <input type="text" class="form-control" id="name">
		</div>
		<div class="form-group required ='true' ">
		  <h4><label for="link" class="label-control">Enter the link of your Image (Required)</label></h4>
		  <input type="text" class="form-control" id="link">
		</div>

		<hr>

		<h3><strong>Question 1</strong></h3>
		<div class="form-group">
		 <h4><label for="q1">Your mind is always buzzing with unexplored ideas and plans.</label></h4>
		  <select class="form-control" id="q1" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 2</strong></h3>
		<div class="form-group">
		 <h4><label for="q2">Generally speaking, you rely more on your experience than your imagination.</label></h4>
		  <select class="form-control" id="q2" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 3</strong></h3>
		<div class="form-group">
		 <h4><label for="q3">You find it easy to stay relaxed and focused even when there is some pressure.</label></h4>
		  <select class="form-control" id="q3" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 4</strong></h3>
		<div class="form-group" >
		 <h4><label for="q4">You rarely do something just out of sheer curiosity.</label></h4>
		  <select class="form-control" id="q4" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 5</strong></h3>
		<div class="form-group" >
		 <h4><label for="q5">People can rarely upset you.</label></h4>
		  <select class="form-control" id="q5" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 6</strong></h3>
		<div class="form-group" >
		 <h4><label for="q6">It is often difficult for you to relate to other people’s feelings.</label></h4>
		  <select class="form-control" id="q6" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 7</strong></h3>
		<div class="form-group" >
		 <h4><label for="q7">In a discussion, truth should be more important than people’s sensitivities.</label></h4>
		  <select class="form-control" id="q7" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 8</strong></h3>
		<div class="form-group" >
		 <h4><label for="q8">You rarely get carried away by fantasies and ideas.</label></h4>
		  <select class="form-control" id="q8" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 9</strong></h3>
		<div class="form-group" >
		 <h4><label for="q9">You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</label></h4>
		  <select class="form-control" id="q9" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<h3><strong>Question 10</strong></h3>
		<div class="form-group" >
		 <h4><label for="q10">You feel more energetic after spending time with a group of people.</label></h4>
		  <select class="form-control" id="q10" style = "width:200px;" >
		  	<option selected disabled>Choose an option</option>
		    <option value="1">1 (Strongly Disagree)</option>
		    <option value="2">2</option>
		    <option value="3">3</option>
		    <option value="4">4 (Strongly Agree)</option>
		  </select>
		</div>

		<br>

		<button type="submit" class="btn btn-primary btn-lg" id="submit"><i class="glyphicon glyphicon-ok-sign"></i>
 			Submit</button> 
		 
		<hr>
	    <footer class="footer">
	      <div class="container">
		        <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/Sagabootcamp/Friendfinder">GitHub Repo</a></p>
	      </div>
	    </footer>
	</div>


	<div class="modal fade" id="bestModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
	  <div class="modal-dialog" role="document" style="text-align:center">
	    <div class="modal-content" style="display: inline-block">
	      <div class="modal-header">
	        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
	        <h4 class="modal-title" id="myModalLabel">Best Match</h4>
	      </div>
	      <div class="modal-body">
	        <h2 id="matchName"></h2>
	        <img id="matchImg" alt="">
	      </div>
	      <div class="modal-footer">
	        <button type="button" class="btn btn-primary btn-lg" data-dismiss="modal">Close</button>
	      </div>
	    </div>
	  </div>
	</div>
	

	<script type="text/javascript">

		$("#submit").on("click", function(){

	    	
	    	function validateForm() {
			  var isValid = true;
			  $('.form-control').each(function() {
			    if ( $(this).val() === '' )
			        isValid = false;
			  });
			  
			  return isValid;
			}

			
			if (validateForm() == true)
			{
				// Create an object for the user's data
		    	var userData = {
		    		name: $("#name").val(),
		    		photo: $("#link").val(),
		    		scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
		    	}


		    	
		    	var currentURL = window.location.origin;

		    	
		    	$.post(currentURL + "/api/friends", userData, function(data){

		    		
		    		$("#matchName").text(data.name);
		    		$('#matchImg').attr("src", data.pic);

			    	
			    	$("#bestModal").modal('toggle');

		    	});
			}
			else
			{
				alert("Please fill out all fields before submitting!");
			}
	    	
	    	return false; 
	    });

	</script>
</body>
</html>